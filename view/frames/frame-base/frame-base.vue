<script setup lang="ts">
import { useI18n } from "@view/i18n";
import { InputBase, asOptions } from "@view/components";

const i18n = useI18n();
const supported = asOptions(i18n.supported);
const handleUpdate = (locale: string | null) => {
  if (!locale) return;
  i18n.updateLocale(locale);
};
</script>
<template>
  <div class="layout-base">
    <div class="layout-base-content">
      <slot></slot>
    </div>
    <footer class="layout-base-footer">
      <span>calystone</span>
      <span class="layout-base-footer-divider">Â·</span>
      <input-base
        :options="supported"
        type="select"
        :model-value="i18n.locale"
        class="layout-base-locale"
        inline
        @update:model-value="handleUpdate"
      />
    </footer>
  </div>
</template>
<style scoped>
.layout-base {
  flex-grow: 1;

  display: flex;
  flex-direction: column;
}

.layout-base-content {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
}

.layout-base-footer {
  text-align: center;
  color: var(--color-neutral-30);
  font-size: var(--font-size-10);
}

.layout-base-locale {
  display: inline;
}

.layout-base-footer-divider {
  margin-inline: var(--size-10);
}
</style>
